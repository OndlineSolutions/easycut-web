<div class="filter">
  <div class="pesquisa-opcao">
    <div class="pesq">
        <mat-form-field class="inptPes" appearance="standard">
            <mat-label>Pesquisar produto</mat-label>
            <input matInput />
        </mat-form-field>
    </div>

    <div class="option">
        <mat-form-field appearance="standard">
            <mat-label>Categoria</mat-label>
            <mat-select>
                <mat-option value="one">Todas</mat-option>
                <mat-option value="two">Cabelo</mat-option>
                <mat-option value="three">Barba</mat-option>
            </mat-select>
        </mat-form-field>
    </div>
  </div>
  <div class="botao-view">
    <div class="btnAdd">
      <button mat-button mat-raised-button color="primary" (click)="openAdd()">Adicionar <mat-icon>add</mat-icon></button>
  </div>
  <div class="viewPag">
      <button mat-button (click)="visualizar()">
          <mat-icon *ngIf="verLista">view_list</mat-icon>
          <mat-icon *ngIf="verGrade">view_module</mat-icon>
      </button>
  </div>
  </div>

</div>
<!-- Tabela de produtos -->
<div class="mat-elevation-z8">
    <table aria-label="tabela-produtos" mat-table [dataSource]="dataSource">

        <!-- Name Produto -->
        <ng-container matColumnDef="nomeProduto">
            <th class="color-title" mat-header-cell *matHeaderCellDef>
                Nome do Produto
            </th>
            <td mat-cell *matCellDef="let element">
                {{ element.nome }}
            </td>
        </ng-container>

        <!-- Descrição do produto -->
        <ng-container matColumnDef="descricao">
            <th class="color-title" mat-header-cell *matHeaderCellDef>
                Descrição do Produto
            </th>
            <td mat-cell *matCellDef="let element">{{ element.descricao }}</td>
        </ng-container>

        <!-- Quantidade do produto -->
        <ng-container matColumnDef="quantidade">
            <th class="color-title" mat-header-cell *matHeaderCellDef>
                Quantidade
            </th>
            <td mat-cell *matCellDef="let element">{{ element.qtdEstoque }}</td>
        </ng-container>

        <!-- Preço do produto -->
        <ng-container matColumnDef="preco">
            <th class="color-title" mat-header-cell *matHeaderCellDef>Preço</th>
            <td mat-cell *matCellDef="let produto">{{ produto.promocional? produto.valorPromocional:produto.valor }}</td>
        </ng-container>

        <!-- Ícone da tabela -->
        <ng-container matColumnDef="icone">
            <th mat-header-cell *matHeaderCellDef></th>
            <td class="layout-menu" mat-cell *matCellDef="let produto">
                <button
                    mat-icon-button
                    aria-label="ícone Button"
                    class="icon-spacing"
                >
                    <mat-icon color="primary"> border_color</mat-icon>
                </button>
                <button
                    mat-icon-button
                    aria-label="ícone Button"
                    class="icon-spacing"
                    (click)="abrirModalDeletar(produto)"
                >
                    <mat-icon color="warn">delete</mat-icon>
                </button>
                <button
                    mat-icon-button
                    [matMenuTriggerFor]="menu"
                    aria-label="Example icon-button with a menu"
                >
                    <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                    <button mat-icon-button aria-label="ícone Button" class="iconmenu" >
                        <mat-icon class="icon-color">visibility_off</mat-icon>
                        <span class="descricaoicon">Exibir Produto</span>
                    </button>

                    <button *ngIf="!produto.promocional" mat-icon-button aria-label="ícone Button" class="iconmenu" (click)="abrirModalPromocional(produto)">
                        <mat-icon class="icon-color" >money_off</mat-icon>
                        <span class="descricaoicon">Tornar Promocional</span>
                    </button>

                    <button *ngIf="produto.promocional" mat-icon-button aria-label="ícone Button" class="iconmenu" (click)="abrirModalPromocional(produto)">
                        <mat-icon class="icon-color" >attach_money</mat-icon>
                        <span class="descricaoicon">Remover Promoção</span>
                    </button>
                </mat-menu>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
        [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons
        aria-label="Selecionar página do produto"
    >
    </mat-paginator>
</div>


